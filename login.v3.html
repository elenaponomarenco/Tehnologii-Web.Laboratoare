<!DOCTYPE html>
<html>  
<head>  
    <title>Login</title>   
    <link href = "css\login.v2.css" rel = "stylesheet" type = "text/css" >   
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/jquery.validate.min.js"></script>
</head>  
<body>
  <div>
    <form name="login" action="php/login.php" method="post">
        <h1>Login</h1> 
        <p>
          <input id="username" name="username" minlength="5" type="text" placeholder=" Username" required>
        </p>
        <p>
          <input id="password" type="password" name="password" placeholder=" Password" required>
        </p>
        <p>
          <input class="submit" type="submit" value="Submit" >
          <span style="display: none; padding-left: 15px; font-size: 13px;" class="log_submit">
            Error
          </span>
        </p>
    </form>
  </div>
<script>
    $(document).ready(function() {
  $("form[name='login']").validate({
    rules: {
          username: {
              required: true,
              minlength: 7
          },
          password: {
              required: true,
              minlength: 7
          },
    },
    messages: {
        username: {
            required: "Please enter your name!",
            minlength: "At least 7 characters!"
        },
        password: {
            required: "Please enter your password!",
            minlength: "At least 7 characters!"
        },
        
    },
    submitHandler: function(form) {
          let dataInput = $("form[name='login']").serialize();
          $.ajax({
            type: 'POST',
            url: 'php/login.php',
            data: dataInput,
            success: function(result){
            var rezultat = JSON.parse(result);
            if (rezultat.status == "Succes"){
                console.log("Succes");
                $('.log_submit').text("Login successful!");
                $('.log_submit').css("color", "green");
                $('.log_submit').css("display", "block");
            }
            else if (rezultat.status == "Validation_Fail") {
                console.log("Validation_Fail");
                $('.log_submit').text("Field Errors");
                $('.log_submit').css("color", "red");
                $('.log_submit').css("display", "block");
            }
            else if (rezultat.status == "Login_Fail") {
                console.log("Login_Fail");
                $('.log_submit').text("Login failed. Invalid username or password.");
                $('.log_submit').css("color", "red");
                $('.log_submit').css("display", "block");
            }
            else if (rezultat.status == "Connect_Fail") {
                console.log("Connect_Fail");
                $('.reg_submit').text("Connection Error");
                $('.reg_submit').css("color", "red");
                $('.reg_submit').css("display", "block");
            }
            }
          })
        }
  });
});
</script>
    <a href="index.html">&#171;  &#206;napoi la pagina principal&#259;</a>
</body>     
</html>  